import{r as y,o as a,g as i,b as o,a as h,w as p,L as C,d as n,h as v,t as D,k as I,c as k,D as B,F as T,H as L,q as N,E as H}from"./app.c6576bad.js";import{_ as V}from"./AuthenticatedLayout.9b4abfd6.js";import{_ as E}from"./GuestLayout.fb2023c7.js";import{a as R,u as S,c as F,b as $,_ as M}from"./FeedItem.8e78b792.js";import{a as U}from"./NavLink.103ec0a0.js";const j={class:"w-full p-4"},q={key:0,class:"flex space-x-4"},O={class:"w-full"},P={class:"items-center flex w-full"},z={key:0,class:"absolute text-[#536471] text-lg"},A={class:"mt-4"},G={class:"flex justify-between items-center"},J={key:0,class:"text-red-600 text-sm"},K=["disabled"],Q={__name:"Reply",props:{id:{default:null,type:Number}},setup(x){const t=x,l=R(),c=S(),u=y(!0),w=y(null),_=y(null),e=r=>{u.value=!(r.target.innerText.length>0),c.tweet.text=r.target.innerText,r.target.innerText.length<=140&&(_.value=null)},g=r=>{var f;(f=c.tweet)!=null&&f.text&&c.reply({id:t.id,tweet:c.tweet.text}).then(s=>{s.data.user=l.user,c.tweets.data.unshift(s.data),w.value.innerText="",u.value=!0}).catch(s=>{var d,m,b;_.value=(b=(m=(d=s.response)==null?void 0:d.data)==null?void 0:m.message)!=null?b:s.response.statusText})};return(r,f)=>{var s,d;return a(),i("div",j,[((d=(s=o(l))==null?void 0:s.user)==null?void 0:d.id)&&x.id?(a(),i("div",q,[h(o(C),{href:r.route("profile.view",o(l).user.username)},{default:p(()=>[h(F,{user:o(l).user,color:"bg-teal-200 text-teal-700"},null,8,["user"])]),_:1},8,["href"]),n("div",O,[n("div",P,[u.value?(a(),i("div",z," Tweet your reply ")):v("",!0),n("div",{class:"tweet-container",onInput:e,ref_key:"tweetContainerRef",ref:w,contenteditable:""},null,544)]),n("div",A,[n("div",G,[n("div",null,[_.value?(a(),i("div",J,D(_.value),1)):v("",!0)]),n("button",{class:"bg-[#1d9bf0] rounded-2xl px-8 py-2 text-white disabled:opacity-50",disabled:u.value,onClick:g}," Reply ",8,K)])])])])):v("",!0)])}}},W=U(Q,[["__scopeId","data-v-3052d1d4"]]),X=n("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Tweet ",-1),Y={class:"py-12"},Z={key:0},ee=n("div",{class:"text-center border-y-2 border-solid border-y-gray uppercase font-bold"}," Replies ",-1),te={key:0},se={key:1,class:"text-center p-8"},ie={__name:"Tweet",setup(x){const t=S(),l=R();I(()=>{c(),u(),w()});const c=()=>{t.fetchOne(route().params).then(e=>{t.tweet=e==null?void 0:e.data})},u=()=>{t.fetchReplies(route().params).then(e=>{t.tweets=e==null?void 0:e.data})},w=()=>{l.me().then(e=>{l.user=e==null?void 0:e.data,window.localStorage.setItem("user",l.user)})},_=()=>{H.Inertia.visit("/")};return(e,g)=>{var r;return a(),i(T,null,[h(o(L),{title:"Home"}),(a(),k(B((r=o(l).user)!=null&&r.id?V:E),null,{header:p(()=>[X]),default:p(()=>[n("div",Y,[h(M,null,{default:p(()=>{var f,s,d;return[(f=o(t).tweet)!=null&&f.id?(a(),i("div",Z,[h($,{item:o(t).tweet,onDelete:_},null,8,["item"]),h(W,{id:(s=o(t).tweet)==null?void 0:s.id},null,8,["id"]),ee,(d=o(t).tweets)!=null&&d.data?(a(),i("div",te,[(a(!0),i(T,null,N(o(t).tweets.data,m=>(a(),k($,{key:m.id,item:m},null,8,["item"]))),128))])):v("",!0)])):(a(),i("div",se," There is no tweet or its a private "))]}),_:1})])]),_:1}))],64)}}};export{ie as default};
