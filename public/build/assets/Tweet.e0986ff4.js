import{r as _,o as c,g as i,b as u,a as p,w as g,L as T,d as t,h as f,t as b}from"./app.c6576bad.js";import{a as y,u as k,c as C}from"./FeedItem.8e78b792.js";import{a as S}from"./NavLink.103ec0a0.js";const B={class:"w-full p-4"},N={key:0,class:"flex space-x-4"},V={class:"w-full"},I={class:"items-center flex w-full"},L={key:0,class:"absolute text-[#536471] text-lg"},R={class:"mt-4"},j={class:"flex justify-between items-center"},D={key:0,class:"text-red-600 text-sm"},E=["disabled"],M={__name:"Tweet",setup(P){const o=y(),a=k(),r=_(!0),h=_(null),l=_(null),v=s=>{r.value=!(s.target.innerText.length>0),a.tweet.text=s.target.innerText,s.target.innerText.length<=140&&(l.value=null)},m=s=>{var d;(d=a.tweet)!=null&&d.text&&a.makeTweet({tweet:a.tweet.text}).then(e=>{e.data.user=o.user,a.tweets.data.unshift(e.data),h.value.innerText="",r.value=!0}).catch(e=>{var n,w,x;l.value=(x=(w=(n=e.response)==null?void 0:n.data)==null?void 0:w.message)!=null?x:e.response.statusText})};return(s,d)=>{var e,n;return c(),i("div",B,[(n=(e=u(o))==null?void 0:e.user)!=null&&n.id?(c(),i("div",N,[p(u(T),{href:s.route("profile.view",u(o).user.username)},{default:g(()=>[p(C,{user:u(o).user,color:"bg-teal-200 text-teal-700"},null,8,["user"])]),_:1},8,["href"]),t("div",V,[t("div",I,[r.value?(c(),i("div",L," What`s happening? ")):f("",!0),t("div",{class:"tweet-container",onInput:v,ref_key:"tweetContainerRef",ref:h,contenteditable:""},null,544)]),t("div",R,[t("div",j,[t("div",null,[l.value?(c(),i("div",D,b(l.value),1)):f("",!0)]),t("button",{class:"bg-[#1d9bf0] rounded-2xl px-8 py-2 text-white disabled:opacity-50",disabled:r.value,onClick:m}," Tweet ",8,E)])])])])):f("",!0)])}}},q=S(M,[["__scopeId","data-v-6f1870e2"]]);export{q as T};
